<ng-container *ngIf="document$ | async as doc">
  <div class="container-flex">
    <div class="row">
      <div class="col-md-8">
        <div class="card text-center">
          <h4>Document ID: {{doc.Id}}</h4>
          <ul class="nav justify-content-center mb-2">
            <li class="nav-item">
              <button class="btn btn-outline-primary mr-4" (click)="showHideHighlights()">Show/Hide Highlights</button>
            </li>
            <li class="nav-item">
              <button class="btn btn-outline-primary" (click)="resetImagePosition()">
                Reset Image Position
              </button>
            </li>
          </ul>
          <div id="image-container"
               (mousedown)="onImageMouseDown($event)" (mousemove)="onImageMouseMove($event)"
               (mouseup)="onImageMouseUp()" (mousewheel)="onImageMouseWheel($event)"
               (dragover)="onImageDragOver($event)">

            <img class="img-fluid"
                 crossorigin="anonymous"
                 [src]="documentImageUrl" [hidden]="showRendered"
                 #documentImage id="document-image" (load)="onImageLoaded($event)"
                 (drop)="onImageDrop($event)"/>
            <ng-container *ngIf="image$ | async as img">
              <img #documentRender [src]="img" [hidden]="!showRendered"
                   (drop)="onImageDrop($event)"/>
            </ng-container>
          </div>
          <div id="document-marker" #documentMarker></div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card flex-md-row mb-4 box-shadow h-md-250">
          <div class="card-body d-flex flex-column align-items-start" style="padding-top: 0;">
            <h3>
              <a class="text-dark" href="#">Transcription Fields</a>
            </h3>
            <form style="padding-left: 1em;">
              <div class="form-group row" *ngFor="let f of fields">
                <label class="col-form-label" for="{{f.id}}">{{f.displayText}}</label>
                <div class="col-sm">
                  <div class="input-group">
                    <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <img src="/assets/images/icon-target.svg" class="icon-target"
                                                     draggable="true" (dragstart)="startAutoTranscribe($event, f)" />
                                            </span>
                    </div>
                    <input type="{{f.type}}" class="form-control" name="{{f.id}}" id="{{f.id}}" autocomplete="off"/>
                  </div>
                </div>
              </div>
              <span class="form-inline">
                                <!-- will fix at a later time -->
                                <button type="button" class="btn btn-success mr-1" (click)="submit()">Submit</button>
                                <button type="button" class="btn btn-danger mr-1">Help</button>
                                <button type="button" class="btn btn-outline-primary mr-1" (click)="goToPrevious()">Previous</button>
                                <button type="button" class="btn btn-outline-primary mr-1"
                                        (click)="goToNext()">Next</button>
                            </span>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
